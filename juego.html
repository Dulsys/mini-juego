<!DOCTYPE html>
<html>
<head>
  <title>Mini juego</title>

  <style>
    body {
      background-color: #fad59c;
      text-align: center;
      font-family: Arial, sans-serif;
    }

    #areaJuego {
      width: 400px;
      height: 400px;
      margin: 20px auto;
      background-color: rgb(254, 137, 137);
      border: 2px solid rgb(255, 145, 0);
      position: relative;
    }

    #cuadro {
      width: 40px;
      height: 40px;
      background-color: rgb(229, 184, 247);
      position: absolute;
      cursor: pointer;
    }

    .info {
      font-size: 20px;
      margin: 5px;
    }
  </style>
</head>

<body>

  <h1>üéØ Atrapa el cuadro</h1>

  <p class="info" id="puntos">Puntos: 0</p>
  <p class="info" id="tiempo">Tiempo: 60</p>
  <p class="info" id="record">R√©cord: 0</p>

  <div id="areaJuego">
    <div id="cuadro"></div>
  </div>

<script>
  let puntos = 0;
  let tiempo = 60;
  let juegoActivo = true;

  const cuadro = document.getElementById("cuadro");
  const puntosTexto = document.getElementById("puntos");
  const tiempoTexto = document.getElementById("tiempo");
  const recordTexto = document.getElementById("record");

  let record = localStorage.getItem("recordJuego") || 0;
  recordTexto.innerText = "R√©cord: " + record;

  function moverCuadro() {
    if (!juegoActivo) return;

    const x = Math.random() * 360;
    const y = Math.random() * 360;

    cuadro.style.left = x + "px";
    cuadro.style.top = y + "px";
  }

  cuadro.addEventListener("click", () => {
    if (!juegoActivo) return;

    puntos++;
    puntosTexto.innerText = "Puntos: " + puntos;
    moverCuadro();
  });

  function iniciarTemporizador() {
    const intervalo = setInterval(() => {
      tiempo--;
      tiempoTexto.innerText = "Tiempo: " + tiempo;

      if (tiempo <= 0) {
        clearInterval(intervalo);
        juegoActivo = false;
        cuadro.style.display = "none";

        if (puntos > record) {
          record = puntos;
          localStorage.setItem("recordJuego", record);
          alert("üéâ ¬°Nuevo r√©cord: " + record + " puntos!");
        } else {
          alert("‚è±Ô∏è Tiempo terminado. Puntos: " + puntos);
        }

        recordTexto.innerText = "R√©cord: " + record;
      }
    }, 1000);
  }

  moverCuadro();
  iniciarTemporizador();
</script>

</body>
</html>
